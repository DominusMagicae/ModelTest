@name KeepUpRight Test 2
@inputs [Base]:entity
@outputs
@persist [R]:ranger [E Base]:entity

if (first() || duped()) {
	E = entity()
	function void KeepUpRight(Base:entity) {
		if (Base:isValid()) {
			R = rangerOffset(9999, Base:pos(), -Base:up())
			rangerHitEntities(1)
			local NormVec = R:hitNormal()
			NormVec = NormVec + Base:pos() # NormVec now "connected" to Base prop
			local RightVec = Base:right()
			local NewFWDVec = NormVec:cross(RightVec)
			Base:setAng(NewFWDVec:toAngle())
		}
	}
}

event tick() { # every ingame tick, do this
	KeepUpRight(E)
}




