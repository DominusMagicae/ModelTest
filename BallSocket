@name ballsocket and parent Test
@inputs [Base Follower Follower2]:entity
@outputs
@persist [Base Follower Follower2]:entity
@persist [Relative_Vector]:vector
@trigger all

if (first() | duped()) {
	Relative_Vector = vec(0,0,0)
	function void parent(Ent1:entity Ent2:entity) {
		if (Ent1:isValid() & Ent2:isValid()) {
			if (Relative_Vector == vec(0,0,0) | Ent2:pos() != Relative_Vector) {
				Relative_Vector = Ent1:pos() - Ent2:pos()
				Ent2:setPos(Ent1:pos() + Relative_Vector)
				Ent2:setAng(Ent1:angles())
			}
			
	}
	function void bsFreeMove(Ent1:entity Ent2:entity) {
		if (Ent1:isValid() & Ent2:isValid()) {
			Ent2:setAng(Ent1:angles())
		}
	}
}

parent(Base, Follower)
bsFreeMove(Base, Follower2)
